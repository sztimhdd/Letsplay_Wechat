<view class="container">
  <view class="header">
    <view class="activity-info">
      <view class="title">{{activity.title}}</view>
      <view class="time">{{activity.date}} {{activity.startTime}}-{{activity.endTime}}</view>
    </view>
    <view class="stats">
      <view class="stat-item">
        <text class="number">{{checkedCount}}</text>
        <text class="label">已签到</text>
      </view>
      <view class="stat-item">
        <text class="number">{{activity.currentMembers}}</text>
        <text class="label">总人数</text>
      </view>
    </view>
  </view>

  <view class="member-list">
    <view class="member-item" wx:for="{{members}}" wx:key="id">
      <view class="member-info">
        <image class="avatar" src="{{item.avatar}}" mode="aspectFill"></image>
        <text class="nickname">{{item.nickname}}</text>
      </view>
      <view class="check-in-action">
        <text class="status {{item.status}}">{{item.status === 'checked' ? '已签到' : '未签到'}}</text>
        <button 
          class="btn {{item.status === 'checked' ? 'checked' : ''}}" 
          disabled="{{item.status === 'checked'}}"
          bindtap="handleCheckIn" 
          data-id="{{item.id}}"
        >
          {{item.status === 'checked' ? '已签到' : '签到'}}
        </button>
      </view>
    </view>
  </view>

  <view class="bottom-actions">
    <button class="btn primary" bindtap="goToSettlement">费用结算</button>
  </view>
</view> 